<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!--
Generated by HTML Help Compile Tools. You can modify this directly with the HTML editor of your choice,
or you can open it in Word, edit it, and save it as a .htm or .html file.
-->


<html>
	<head>
		<meta http-equiv="Content-Style-Type" content="text/css">
		<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
		<title>Threading Options</title> <!--REPLACE-->
		<link rel="STYLESHEET" type="text/css" href="css/VSsystemexplorer.css">
		<script src="common.js" type="text/javascript"></script><script src="js/expandable_tree.js" type="text/javascript"></script>
		<link rel="STYLESHEET" type="text/css" href="css/expandable_tree.css">
		<script src="launchhelp.js" type="text/javascript"></script><script src="js/dynamicjumps.js" type="text/javascript"></script>
	</head>
	<body>
		<noscript>
			<p class="Body">JavaScript is disabled. <a href="veristandmerge.chm::/JavaScript_Disabled.html">Details</a></p>
			<hr width="100%" noshade>
		</noscript>
		<h1>Threading Options</h1> <!--REPLACE-->
		<h2>Introduction</h2>
		<p>
			<!--Global scheme of why this screen is important and how it relates to the general process of setting up the custom device.-->
			When the UDP Custom Device is launched during system deployment, each transmit and receive packet has a unique thread started to manage network transactions. By this, each packet is managed asynchronously and independently from one another. In order to afford further fine-tuning of these threads, a packet may allow for some of the below options for directing the behavior of the thread. Caution is suggested when modifying these values from the defaults. Some values may result in unexpected behavior or reduced performance from other system components. For example, putting too many packets on a single processor may starve other packets or threads that rely on resources from that processor. In short, changing these settings may have benefits, but they are resource-greedy and can have an impact on the performance of other custom devices, models, and more.<br><br>
			<STRONG>*DISCLAIMER*</STRONG><br>Networking is, by either UDP or TCP/IP, non-deterministic. While these protocols can appear to achieve very high levels of consistency, they routinely can have tens or hundreds of microseconds of jitter (or more on a busy network or interface). This is for several reasons that are outside the scope of this documentation. Due to this jitter, there is no guarantee any packet will always be transmitted or received within the requested period. The UDP Custom Device will try its hardest to achieve the requested threading configuration.
		</p>
		
		<h2>Threading Options</h2>
		<p>
			<!--Description/summary of the basic purpose of the controls on this screen.-->
			<table>
				<tr>
					<th></th>
					<th>Description</th>
				</tr>
				<tr>
					<td><STRONG>Thread Management</STRONG></td>
					<td>Determines the high-level management of this packet threading. There are two ptions available: <i>Untimed (Default)</i> and <i>Timed (High Priority)</i>.<br><b>Untimed (Default):</b> This is the standard threading that is used in most custom devices. The VeriStand runtime engine (on a realtime target or on Windows) will dynamically assign resources to handle packet functionality. The packet operations have no priority and are pre-empted by anything in a timed structure or that has a non-default priorty. Timed packets will always pre-empt untimed packets. Untimed packets may not be coupled to a <i>Target Processor</i> or have a <i>Priority</i>.<br><b>Timed (High Priority):</b> This thread management taps directly into the realtime scheduler for this packet. The packet will attempt to run with priority and attempt to pre-empt other lower priority tasks, including other packets. This packet may also be assigned a specific processor to handle its resources. Packets with timed thread management will <i>ALWAYS</i> be a higher priority than untimed tasks or packets, including processes in other custom devices.</td>
				</tr>
				<tr>
					<td><STRONG>Target Processor</STRONG></td>
					<td>Determines the processor assignment behavior for this packet. A value of -2 will result in automatic processor assignment. Starts at 0 for the first logical processor. For clarity, processor, logical core, and otherwise all refer to discrete numerable compute elements on the target CPU. EG: a 'quad core' CPU likely has 8 processors in this context -- 4 physical cores and 4 logical cores. This core count must be relative to the target that will be running the system definition. Selecting a core that is not available on the target may result in unexpected behavior.</td>
				</tr>
				<tr>
					<td><STRONG>Default (Target Processor)</STRONG></td>
					<td>Resets the <i>Target Processor</i> field back to automatic processor assignment (-2).</td>
				</tr>
				<tr>
					<td><STRONG>Priority</STRONG></td>
					<td>Sets the priority of this packet compared to other packets (and other system resources) running on the realtime scheduler. All UDP Custom Device packets run on the realtime scheduler. Other resources that allow for selection of priority and processor assignment likely run on the realtime scheduler as well. A larger value results in higher priority. Defaults to 100. If unsure of the potential impact, leave this value at 100. All resources that do not have a priority will always be pre-empted a UDP Custom Device packet, regardless of the priority of the packet.<br>If run on a Windows target (or another non-RealTime target), priorty may not have predictable or observable effects, due to the absence of a realtime scheduler.</td>
				</tr>
				<tr>
					<td><STRONG>Default (Priority)</STRONG></td>
					<td>Resets the <i>Priority</i> field back to the default value of 100.</td>
				</tr>
				<tr>
					<td><STRONG>Loop Period (us)</STRONG></td>
					<td>Selects the period that the packet thread will attempt to run at. Windows systems <b>MUST</b> have a period of at least 1000 us. This option is disabled when PCL synchronizatipon is selected. This option is not available on receive packets.</td>
				</tr>
				<tr>
					<td><STRONG>Sychronization</STRONG></td>
					<td>Determines whether this packet will synchronize itself to the PCL or run asynchronously. This option is not available on receive packets.<br><b>PCL:</b> Synchronizes this packet to the PCL. Disables the <i>Loop Period</i> control. Enables the <i>PCL Decimation</i> control.<br><b>Async:</b> This packet will run asynchronously from the PCL. Enables the <i>Loop Period</i> control. Disables the <i>PCL Decimation</i> control.</td>
				</tr>
				<tr>
					<td><STRONG>PCL Decimation</STRONG></td>
					<td>Determines if this packet will run at a subset period of the Primary Control Loop (PCL). For example, if the PCL is set to a period of 10ms, a value of 1 will transmit packets at roughly 10ms intervals. A value of 2 will transmit packets at approximately 20 ms intervals. Only available in the PCL synchronization. Unavailable for receive packets.</td>
				</tr>
				<tr>
					<td><STRONG>OK Button</STRONG></td>
					<td>Accepts the user inputted threading options for this packet.</td>
				</tr>
				<tr>
					<td><STRONG>Cancel Button</STRONG></td>
					<td>Rejects any changes made to the threading options and resets the threading options back to their previous value. Closing the dialog window will do this same thing.</td>
				</tr>
			</table>
		</p>
	</body>
	<footer>
		<a href="UDP Custom Device.htm">Back</a> <!--REPLACE - Should refer to the previous page-->
		<hr>
	</footer>
</html> 
